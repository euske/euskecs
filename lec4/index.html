<!DOCTYPE HTML>
<html lang="ja">
<head>
<title>プログラミングの基本</title>
<style><!--
body { line-height: 1.5; }
h1 { border-bottom: 4pt solid black; }
h2 { border-bottom: 2pt solid black; }
table { border-collapse: collapse; }
td { padding: 0.5em; text-align: center; }
p { margin: 0; }
.nav { font-size: 80%; }
.figure { margin: 0.5em; padding: 0.5em; border: 1px solid gray; }
--></style>
<script language="javascript" src="../js/offline.js"></script>
</head>
<body>
<h1>プログラミングの基本</h1>

<div class=nav>
</div>

<h2><a name="">コンピュータ・プログラムとは</a></h2>

<h3>復習</h3>
<ul>
<li> 昔は回路を作りなおしていた。現在は命令の列。(= ソフトウェア)
<li> 記憶装置に記録されている。
<li> 演算装置が解釈して実行する。
<li> 以下のことが可能:
  <ul> 
    <li> 簡単な計算をする。
    <li> データを記憶装置から読み込み、書きこみ、複製できる。
    <li> 入力装置から受信したり、出力装置に送信したりできる。
      <ul> 
	<li> 文字、画像、音声などすべて 0 と 1 であらわす。
      </ul>
  </ul>
</ul>
<p>
現在では、プログラム (=ソフトウェア) がコンピュータの用途を決める。

<h3>「手続き」の考え方</h3>
<p>
実行する順序がとても重要。
<h4>例: カレーの作り方</h4>
<ol>
<li> 肉・野菜を炒める。
<li> 水を入れる。
<li> ルウを入れる。
<li> 火を止める。
</ol>
<h4>例: 自動販売機</h4>
<ol>
<li> お金を入れる。
<li> 商品を購入する。
<li> おつりを出す。
<li> 1. に戻る。
</ol>
<p>
これらの順序が違ったらうまくいかない。

<h2><a name="">プログラムはどうやって実行されるか</a></h2>

<h3>Windows 用のプログラム <code>abc.exe</code></h3>
<ul>
<li> バイナリエディタで 0 と 1 を見てみる。
<li> 「<code>abc</code>」 の部分を「<code>123</code>」に書き換えてみる。
<li> 「<code>abc</code>」 の部分を「<code>hello world</code>」に書き換えてみる。
</ul>
<p>
<strong>注意:</strong> 
ふつうは、こんな 16進数を直接書いたりすることはない。

<h3>インタプリタとコンパイラ、VM</h3>
<p>
どちらも「命令を解釈して実行する」という部分は変わらない。

<h4>ハードウェアによる実行 (ネイティブ)</h4>
<p>
演算装置が直接 0 と 1 を解釈する。
<ul>
<li> 非常に簡単なことしかできない。
<li> 書くのが大変。
<li> 通常は<u>コンパイラ</u>を使って変換する
</ul>

<h4>ソフトウェアによる実行 (インタプリタ、VMあるいはエミュレータ)</h4>
<p>
ソフトウェアがプログラムを解釈する。
このソフトウェアそのものネイティブで実行される (演算装置が解釈する)。
<ul>
<li> 書きやすい。
<li> 効率は悪い (二重に解釈されるため)
</ul>


<h3>レイヤーの考え方</h3>

<h4>どうやって画面に表示するか</h4>
<p>
現代のプログラマはほとんどハードウェアに直接0/1を送ったりしない。
「OSの使い方を学ぶ」


<h3>いろいろなプログラミング言語</h3>

<h4>ハードウェア結線</h4>

<h4>ネイティブ</h4>
<ul>
<li> アセンブリ言語
<li> C/C++
<blockquote><pre>
#include &lt;stdio.h&gt;

int main(int argc, char* argv[])
{
    char s[100];
    int i;
    for (i = 0; i &lt; 10; i++) {
        s[i] = '*';
        s[i+1] = 0;
        printf("%s\n", s);
    }
}
</pre></blockquote>
</ul>

<h4>インタプリタ/VM</h4>
<ul>
<li> Java (JVM)
<blockquote><pre>
public class Program {
    public static void main(String[] args) {
        String s = "";
        for (int i = 0; i &lt; 10; i++) {
            s += "*";
            System.out.println(s);
        }
    }
}
</pre></blockquote>
<li> C# (CLR)
<li> Javascript (ブラウザ)
</ul>

<p>
ほかにも何百という言語がある。


<h3>最初のプログラム</h3>

<blockquote><pre>
var s = ""; for (var i = 0; i &lt; 10; i++) { s += "*"; console.log(s); }
</pre></blockquote>

<h4>プログラミングと数学</h4>
<p>
「プログラミングをするには数学が得意でなければならない」 - ある程度は真実。
<p>
<strong>例1:</strong>
n 個の * をつなげて三角形を表示する。
この三角形を右寄せにするためには、何個の空白をつければよいか?
<p>
<strong>例2:</strong>
幅w1×高さh1ピクセルの画像を幅 w2×高さh2のウインドウに表示したい。
縦が長いとすると、横は何ピクセルに縮小すればよいか?

<h2>ソフトウェア開発における課題</h2>
<ul>
<li> やりたいことを決定する
<li> やりたいことを他人に伝える
<li> 正しい動きを保証する
<li> 機能を修正する・追加する
</ul>

<h3>やりたいことを決定する</h3>
<ul>
<li> 何をしたいのかがわからない
<li> 何千もの決定をする必要がある
<li> やりたいことが説明できない
</ul>

<h3>やりたいことを他人に伝える</h3>
<ul>
<li> 他人はよく自分かもしれない
<li> ソフトウェアは長い時間をかけて作られる
<li> 伝える方法
<li> 日本語、プログラムのコード、絵
</ul>

<h3>正しい動きを保証する</h3>
<ul>
<li> 何億もの考えられる組み合わせがある
<li> すべての事態を想定できない
</ul>

<h3>ソフトウェア開発を支援する技術</h3>
<ul>
<li> 決定するための技術 - アジャイル開発
<li> 記録するための技術 - バージョン管理、UML
<li> 保証するための技術 - 自動テスト、型検査
<li> 修正・追加のための技術 - バグ管理システム
</ul>

<h2><a name="">ソフトウェアと民主主義</a></h2>
<p>
今日、ますます多くものもがソフトウェアで制御されるようにおり、
それは社会のあり方を規定するようになっている。
<ul>
<li> 自動車
<ul>
  <li> 違法な排気ガス (VW)
  <li> 不透明なブレーキ制御 (トヨタ)
  <li> エアバッグ制御のタイミングなど
</ul>
<li> エレベータ
<li> 通信機器
<ul>
  <li> 通話・メッセージの盗聴 (NSA)
  <li> 個人情報を把握した広告 (Google, Facebook)
</ul>
<li> 医療機器
<ul>
  <li> Bluetooth制御可能なインスリン注入器
  <li> <a href="https://en.wikipedia.org/wiki/Therac-25">Therac-25</a>
</ul>
</ul>
<blockquote>
「プログラムは法律そのものだ」 -- ローレンス・レッシグ
</blockquote>
<p>
だが、これらの機器はブラックボックスであり
中に入っているソフトウェアがどう動いているかを一般人が知るすべはない。
<p>
あるソフトウェアが、本当に
<ul>
<li> 安全に配慮しており
<li> 法律に従った動作をしており
<li> 余計な悪さをしていない
</ul>
ことを、どうやったら確信できるのか?
そのためには、利用者がソフトウェアに対して
批判的な目をもつ必要がある。

<h3>コンピュータと常識</h3>
<ul>
<li> なぜ個人情報が漏洩するのか? → だれかが送っているから
<li> なぜウィルスに感染するのか? → だれかがプログラムを実行したから
</ul>
<p>
ただし、コンピュータには常識の通用しない部分がある。
<blockquote>
<p>
なぜコンピュータが必要なのか?
<ul>
<li> 大量の情報を
<li> 高速に
<li> 正確に、処理する。
</ul>
</blockquote>
<ul>
<li> 大規模な自動化 → これまでにない規模の犯罪
<li> 大量の情報処理 → これまでにない規模の監視社会
</ul>
<p>
コンピュータに関する知識は、
これからの健全な民主主義のために不可欠である。


<hr>
<address>Copyright (c) 2015 Yusuke Shinyama</address>
